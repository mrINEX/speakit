!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(1),t.exports=n(11)},function(t,e,n){function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(2);var s=n(3).nodeDOM,i=n(4).translate,o=n(5).speechInput,c=n(6).getWords,l=n(8),u=l.getAudio,d=l.audio,p=n(9),m=p.getImage,v=p.image,g=n(10).storageGame;window.onload=function(){c(0);var t=window.localStorage.getItem("games");if(t){var e=JSON.parse(t);document.querySelector(".all-result-words").textContent=e.length;var n=document.querySelector(".all_statistics");e.forEach((function(t){var e=document.createElement("div");e.setAttribute("class","wrapper_current-allgame"),e.innerHTML=t,n.append(e)}))}s(".intro-btn").onclick=function(){s(".main").classList.remove("hidden"),s(".intro").classList.add("hidden")},s(".level_range").addEventListener("change",(function(t){var e=t.target;g(document.querySelector(".wrapper_current").cloneNode(!0)),s(".level_chapter").textContent="level ".concat(Number(e.value)+1),s(".wrapper_image").innerHTML='<img class="word-image" src="./src/assets/img/blank.jpg">',s(".main__node-words").innerHTML="",s(".summary_translate").innerHTML="",s(".statistics-image").innerHTML="",s(".user-speach").classList.remove("button-continue"),s(".user-speach").textContent="start speak",s(".current_statistics").innerHTML="",s(".know").textContent=0,s(".pending").textContent=0,s(".errors-speech").textContent=0,c(e.value)})),s(".main__node-words").addEventListener("click",(function(t){var e=t.target;if(e.classList.contains("node")){var n=document.querySelector(".word-node_active");n&&n.classList.remove("word-node_active"),e.classList.add("word-node_active"),u(e.getAttribute("data-audio")).play(),s(".wrapper_image").innerHTML=m(e.getAttribute("data-image")),i(e.getAttribute("data-word"))}})),s(".current_statistics").addEventListener("click",(function(t){var e=t.target;e.classList.contains("statistics__word")&&u(e.getAttribute("data-audio")).play()})),s(".restart").addEventListener("click",(function(){g(document.querySelector(".wrapper_current").cloneNode(!0)),s(".wrapper_image").innerHTML='<img class="word-image" src="./src/assets/img/blank.jpg">',s(".main__node-words").innerHTML="",s(".summary_translate").innerHTML="",s(".statistics-image").innerHTML="",s(".user-speach").classList.remove("button-continue"),s(".user-speach").textContent="start speak",s(".current_statistics").innerHTML="",s(".know").textContent=0,s(".pending").textContent=0,s(".errors-speech").textContent=0,c(/[0-9]/.exec(s(".level_chapter").textContent)[0])})),s(".new").addEventListener("click",(function(){g(document.querySelector(".wrapper_current").cloneNode(!0)),s(".wrapper_image").innerHTML='<img class="word-image" src="./src/assets/img/blank.jpg">',s(".main__node-words").innerHTML="",s(".summary_translate").innerHTML="",s(".statistics-image").innerHTML="",s(".user-speach").classList.remove("button-continue"),s(".user-speach").textContent="start speak",s(".main").classList.remove("hidden"),s(".statistics").classList.add("hidden"),s(".current_statistics").innerHTML="",s(".know").textContent=0,s(".pending").textContent=0,s(".errors-speech").textContent=0,c(/[0-9]/.exec(s(".level_chapter").textContent)[0])})),s(".return").addEventListener("click",(function(){s(".main").classList.remove("hidden"),s(".statistics").classList.add("hidden")})),s(".result").addEventListener("click",(function(){s(".main").classList.add("hidden"),s(".statistics").classList.remove("hidden")})),s(".user-speach").addEventListener("click",(function(t){var e=t.target,n=document.querySelectorAll(".word-node");s(".user-speach").textContent="click to continue";var a=document.querySelector(".know"),i=document.querySelector(".pending");e.classList.add("button-continue"),document.querySelector(".input-voice")||(s(".summary_translate").innerHTML='<input class="input-voice">');var c=document.querySelector(".input-voice");c.focus(),c.onclick=function(t){var e=r(n).filter((function(e){return e.getAttribute("data-word")===t.target.value}));if(e.length){s(".wrapper_image").innerHTML=m(e[0].getAttribute("data-image")),u(e[0].getAttribute("data-audio")).play(),e[0].classList.add("correct-speech"),d.correct().play(),s(".statistics-image").prepend(v.getCorrectImage());var o=r(document.querySelectorAll("[data-word-statistics]")).filter((function(e){return e.getAttribute("data-word-statistics")===t.target.value}));o[0].append(v.getCorrectImage()),o[0].classList.add("correct-speech")}else d.error().play(),v.error();setTimeout((function(){c.value=""}),500);var l=r(n).filter((function(t){return t.classList.contains("correct-speech")}));a.textContent=l.length,i.textContent=10-Number(l.length),10===l.length&&(s(".main").classList.add("hidden"),s(".statistics").classList.remove("hidden"))},n.forEach((function(t){t.classList.contains("correct-speech")||t.classList.add("voice-active"),t.classList.remove("word-node_active","node")})),o(n)}))}},function(t,e){var n=document.createElement("div");n.setAttribute("class","intro"),n.innerHTML='\n    <h1 class="title">SpeakIt</h1>\n    <p class="intro-text">\n        Click on the words to hear them sound.<br>\n        Click on the button and speak the words into the microphone.\n    </p>\n    <a class="btn intro-btn">Start</a>\n',document.querySelector("body").append(n);var r=document.createElement("header");r.setAttribute("class","header"),r.innerHTML='\n    <div class="wrapper header__wrapper">\n        <div class="header__level">\n            <input class="level_range" type="range" value="0" min="0" max="5" step="1" list="tickmarks">\n            <datalist id="tickmarks">\n                <option value="0">\n                <option value="1">\n                <option value="2">\n                <option value="3">\n                <option value="4">\n                <option value="5">\n            </datalist>\n        </div>\n        <h2 class="level_chapter"> level 1</h2>\n    </div>\n',document.querySelector("body").append(r);var a=document.createElement("main");a.setAttribute("class","main hidden"),a.innerHTML='\n    <div class="wrapper main__wrapper">\n        <div class="wrapper statistics-image"></div>\n        <div class="main__summary">\n            <div class="wrapper_image" >\n                <img class="word-image" src="./src/assets/img/blank.jpg">\n            </div>\n            <div class="summary_translate"></div>\n        </div>\n        <div class="main__node-words"></div>\n        <div class="main__activity">\n            <a class="btn restart">Restart</a>\n            <a class="btn voice user-speach">start speak</a>\n            <a class="btn result">Results</a>\n        </div>\n    </div>\n',document.querySelector("body").append(a);var s=document.createElement("div");s.setAttribute("class","statistics hidden"),s.innerHTML='\n    <div class=" wrapper statistics__results">\n        <div class="wrapper_current">\n            <div class="title-results">\n                <p>know: <strong class="know">0</strong></p>\n                <p>pending: <strong class="pending">10</strong></p>\n                <p>errors speech: <strong class="errors-speech">0</strong></p>\n            </div>\n            <div class="current_statistics">\n            </div>\n        </div>\n        <div class="wrapper_all">\n            <div class="title-results">\n                all games: <strong class="all-result-words">0</strong>\n            </div>\n            <div class="all_statistics">\n            </div>\n        </div>\n    </div>\n    <div>\n        <a class="btn return">return</a>\n        <a class="btn new">new</a>\n    </div>\n',document.querySelector("body").append(s)},function(t,e){var n,r,a=(n=function(t){return document.querySelector(t)},r=new Map,function(t){if(r.has(t))return r.get(t);var e=n(t);return r.set(t,e),e});t.exports={nodeDOM:a}},function(t,e){t.exports={translate:function(t){var e="".concat("https://translate.yandex.net/","api/v1.5/tr.json/translate?lang=ru&key=").concat("trnsl.1.1.20191212T163559Z.5976e236f00df928.df3aab73e789795377c7f6b4f57195e585fb0e53","&text=").concat(t);fetch(e).then((function(t){return t.json()})).then((function(t){document.querySelector(".summary_translate").textContent=t.text}))}}},function(t,e){t.exports={speechInput:function(t){window.SpeechRecognition=window.webkitSpeechRecognition||window.SpeechRecognition;var e=new window.SpeechRecognition;e.interimResults=!0,e.maxAlternatives=10,e.onend=function(){t.forEach((function(t){t.classList.remove("voice-active")})),document.querySelector(".user-speach").classList.remove("voice-active"),document.querySelector(".input-voice").click()};var n=localStorage.getItem("language");e.lang=n,e.onresult=function(t){var e=t.results[0][0].transcript;document.querySelector(".input-voice").value=e.toLowerCase()},e.start()}}},function(t,e,n){var r=n(7).Word;t.exports={getWords:function(t,e){var n=Math.floor(0+30*Math.random()),a="https://afternoon-falls-25894.herokuapp.com/words?group=".concat(t,"&page=").concat(n);fetch(a).then((function(t){return t.json()})).then((function(t){t.sort((function(){return Math.random()-.5}));for(var n=0;n<10;n+=1){var a=new r(t[n]);a.getWordNode(e),a.setStatistics()}})).catch((function(){document.querySelector(".main__node-words").innerHTML="Something went wrong ... =("}))}}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(e){var n=e.audio,r=e.image,a=e.transcription,s=e.word,i=e.textExample,o=e.textMeaning;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.audio=n,this.image=r,this.transcription=a,this.word=s,this.textExample=i,this.textMeaning=o,this.clickAll=0,this.know=0}var e,r,a;return e=t,(r=[{key:"countClick",value:function(){this.clickAll+=1}},{key:"setStatistics",value:function(){var t=document.createElement("div");t.setAttribute("class","statistics__word"),t.setAttribute("data-word-statistics","".concat(this.word)),t.setAttribute("data-audio","".concat(this.audio.replace(/files/,"data")));var e='\n      <div class="micro-word event-none" style="height: 23px;">\n        <svg xmlns="http://www.w3.org/2000/svg" style="height: 100%;" viewBox="0 0 32 32"><path fill="currentColor" d="M15.788 13.007a3 3 0 110 5.985c.571 3.312 2.064 5.675 3.815 5.675 2.244 0 4.064-3.88 4.064-8.667 0-4.786-1.82-8.667-4.064-8.667-1.751 0-3.244 2.363-3.815 5.674zM19 26c-3.314 0-12-4.144-12-10S15.686 6 19 6s6 4.477 6 10-2.686 10-6 10z" fill-rule="evenodd"></path></svg>\n      </div>\n      <p class="event-none"><strong>'.concat(this.word,'</strong></p>\n      <p class="event-none"><strong>').concat(this.transcription,"</strong></p>\n    ");t.innerHTML=e,document.querySelector(".current_statistics").append(t)}},{key:"getWordNode",value:function(t){var e=document.createElement("div");t?e.setAttribute("class","word-node"):e.setAttribute("class","word-node node"),e.setAttribute("data-audio","".concat(this.audio.replace(/files/,"data"))),e.setAttribute("data-image","".concat(this.image.replace(/files/,"data"))),e.setAttribute("data-word","".concat(this.word));var n='\n        <span class="word-node__sound event-none">\n            <svg xmlns="http://www.w3.org/2000/svg" style="width: 40px;height: 40px;" viewBox="0 0 32 32"><path fill="currentColor" d="M15.788 13.007a3 3 0 110 5.985c.571 3.312 2.064 5.675 3.815 5.675 2.244 0 4.064-3.88 4.064-8.667 0-4.786-1.82-8.667-4.064-8.667-1.751 0-3.244 2.363-3.815 5.674zM19 26c-3.314 0-12-4.144-12-10S15.686 6 19 6s6 4.477 6 10-2.686 10-6 10z" fill-rule="evenodd"></path></svg>\n        </span>\n        <div class="word-node__content event-none">\n            <h2>'.concat(this.word,"</h2>\n            <h3>").concat(this.transcription,"</h3>\n        </div>\n    ");e.innerHTML=n,document.querySelector(".main__node-words").append(e)}}])&&n(e.prototype,r),a&&n(e,a),t}();t.exports={Word:r}},function(t,e){var n={correct:function(){return new Audio("./src/assets/audio/correct.mp3")},error:function(){return new Audio("./src/assets/audio/error.mp3")}};t.exports={getAudio:function(t){var e="./src/assets/".concat(t);return new Audio(e)},audio:n}},function(t,e){var n={getCorrectImage:function(){var t=document.createElement("img");return t.setAttribute("style","height: 100%;"),t.setAttribute("src","./src/assets/img/yes.jpg"),t.setAttribute("class","event-none"),t},error:function(){var t=document.querySelector(".errors-speech");t.textContent=Number(t.textContent)+1}};t.exports={getImage:function(t){var e="./src/assets/".concat(t);return'<img class="word-image" src="'.concat(e,'">')},image:n}},function(t,e){var n=["January","February","March","April","May","June","July","August","September","October","November","December"];t.exports={storageGame:function(t){var e=new Date,r="".concat(e.getDate()," ").concat(n[e.getMonth()]," ").concat(e.getFullYear()),a="".concat(e.getHours()),s="".concat(Number(e.getMinutes())>=10?e.getMinutes():0+String(e.getMinutes())),i="".concat(Number(e.getSeconds())>=10?e.getSeconds():0+String(e.getSeconds())),o="".concat(r," ").concat(a,":").concat(s,":").concat(i),c=document.createElement("div");c.setAttribute("class","date-stapm-game"),c.textContent=o,function t(e,n){if(null!=e)for(var r=0;r<e.childNodes.length;r+=1)e.classList.contains("wrapper_current")&&(e.removeAttribute("class"),e.setAttribute("class","wrapper_current-allgame"),e.prepend(n)),e.classList.contains("title-results")&&(e.removeAttribute("class"),e.setAttribute("class","title-results-allgame")),e.classList.contains("current_statistics")&&(e.removeAttribute("class"),e.setAttribute("class","game-ten-words")),e.classList.contains("statistics__word")&&(e.classList.remove("statistics__word"),e.classList.add("all-game-word")),e.classList.contains("micro-word")&&e.classList.add("hidden"),t(e.childNodes[r])}(t,c);var l=document.querySelector(".all_statistics");l.append(t),document.querySelector(".all-result-words").textContent=l.childElementCount;var u=window.localStorage.getItem("games");if(u){var d=JSON.parse(u);d.push(t.innerHTML),window.localStorage.setItem("games",JSON.stringify(d))}else window.localStorage.setItem("games",JSON.stringify([t.innerHTML]))}}},function(t,e,n){}]);